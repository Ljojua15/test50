<div class="main">
  <div class="container">
    <crc-popup-container (closePopup)="closePopup()" [closeImage]="'assets/images/x.svg'"
      [containerStyles]="popupContainerStyles" [isBackdropClosable]="true" *ngIf="infoPopup">
      <!-- template here -->
      <div class="wh-text">
        <p>{{"wh-popup.1" | translate}}</p>
        <p> {{"wh-popup.2" | translate}}</p>
        <p> {{"wh-popup.3" | translate}}</p>
      </div>
    </crc-popup-container>

    <crc-popup-container (closePopup)="closePopup()" [closeImage]="'assets/images/x.svg'"
      [containerStyles]="historyPopupContainerStyles" [isBackdropClosable]="true" *ngIf="historyPopup">
      <!-- template here -->
      <div class="history-popup">
        <p>თარიღი</p>
        <p>პრიზი</p>
      </div>
      <div class="content">
        <div class="history-popup__item" *ngFor="let item of mockData">
          <span>{{item.k}} </span>
          <span>{{item.v}}</span>
        </div>
      </div>

    </crc-popup-container>
    <crc-popup-container (closePopup)="closePopup()" [closeImage]="'assets/images/x.svg'"
      [containerStyles]="popupContainerStyles" [isBackdropClosable]="true" *ngIf="winPopup">
      <!-- template here -->
      <ng-container *ngIf="plinko else egt">
        <div class="win">
          <p>{{"congrats"| translate}}</p>
          <p><span>{{"you-win.1"| translate}}</span> {{spinAmount}} <span>{{"you-win.2"| translate}}</span></p>
          <p>{{"claim-prize"| translate}}</p>
          <crc-play-button></crc-play-button>
        </div>
      </ng-container>

      <ng-template #egt>
        <div class="win">
          <p>{{"congrats"| translate}}</p>
          <p>{{"you-win-egt"| translate}}</p>
          <p>{{"claim-prize-egt"| translate}}</p>
          <crc-play-button></crc-play-button>
        </div>
      </ng-template>

    </crc-popup-container>
    <div class="container__arrow">
      <img [src]="arrowImage" />
    </div>
    <div class="container__frame">
      <img class="info" src="./assets/images/info.webp" (click)="openInfo()" alt="info">
      <img [src]="frameImage" />
    </div>
    <div class="container__prizes">
      <img [src]="prizesImage" #prizeElement />
    </div>
    <div class="container__btn">
      <img *ngIf="isDisabled && isLoggedIn" [src]="buttonImage" (click)="getPrize()" />
      <img *ngIf="!isDisabled && isLoggedIn" [src]="buttonDisabledImage" [class.disabled]="isDisabled" />
    </div>
  </div>
  <button class="history" (click)="openHistory()">ისტორია</button>
</div>